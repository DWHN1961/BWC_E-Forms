<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Transfer In Form | Bethel Worldwide Corporation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Crimson+Pro:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5986 100%);
            padding: 40px 20px;
            font-family: 'Crimson Pro', Georgia, serif;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2d5986 0%, #1e3a5f 100%);
            padding: 40px;
            color: white;
            text-align: center;
            border-bottom: 4px solid #d4af37;
        }

        .header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            font-family: 'Playfair Display', Georgia, serif;
        }

        .header h2 {
            margin: 10px 0 0 0;
            font-size: 20px;
            font-weight: 500;
            opacity: 0.95;
        }

        .header p {
            margin: 5px 0 0 0;
            font-size: 14px;
            opacity: 0.9;
        }

        .form-content {
            padding: 40px;
        }

        .section {
            margin-bottom: 35px;
        }

        .section-title {
            font-size: 20px;
            color: #1e3a5f;
            margin-bottom: 20px;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 8px;
            font-family: 'Playfair Display', Georgia, serif;
        }

        .subsection-title {
            font-size: 18px;
            color: #2d5986;
            margin: 25px 0 15px 0;
            font-weight: 600;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #333;
            font-size: 15px;
        }

        .required {
            color: #dc2626;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            font-size: 16px;
            font-family: inherit;
            transition: border-color 0.2s;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #2d5986;
        }

        input.error,
        textarea.error,
        select.error {
            border-color: #dc2626;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .error-message {
            color: #dc2626;
            font-size: 14px;
            margin-top: 4px;
            display: block;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        input[type="checkbox"],
        input[type="radio"] {
            margin-right: 8px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-group,
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-label,
        .radio-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            font-weight: normal;
        }

        .array-item {
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            background-color: #f9fafb;
            position: relative;
        }

        .array-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #d1d5db;
        }

        .array-item-title {
            font-size: 16px;
            font-weight: 600;
            color: #2d5986;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: #2d5986;
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e3a5f;
        }

        .btn-danger {
            background-color: #ef4444;
            color: white;
            padding: 8px 16px;
            font-size: 14px;
        }

        .btn-danger:hover {
            background-color: #dc2626;
        }

        .btn-submit {
            padding: 16px 48px;
            background-color: #2d5986;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .btn-submit:hover {
            background-color: #1e3a5f;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .info-box {
            background-color: #dbeafe;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #60a5fa;
            font-size: 14px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .note-box {
            background-color: #fef3c7;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #fbbf24;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .warning-box {
            background-color: #fee2e2;
            padding: 15px;
            border-radius: 6px;
            border: 1px solid #f87171;
            font-size: 14px;
            margin-bottom: 20px;
        }

        /* Signature styles */
        .signature-container {
            border: 2px solid #d1d5db;
            border-radius: 6px;
            padding: 20px;
            background-color: #f9fafb;
            margin-top: 10px;
        }

        .signature-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
        }

        .signature-tab {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 15px;
            font-weight: 600;
            color: #6b7280;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }

        .signature-tab.active {
            color: #2d5986;
            border-bottom-color: #2d5986;
        }

        .signature-panel {
            display: none;
        }

        .signature-panel.active {
            display: block;
        }

        #signatureCanvas {
            border: 2px dashed #d1d5db;
            border-radius: 4px;
            cursor: crosshair;
            background: white;
            display: block;
            width: 100%;
            max-width: 500px;
            touch-action: none;
        }

        .canvas-controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
        }

        .signature-preview {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border: 2px solid #d1d5db;
            border-radius: 6px;
            display: none;
        }

        .signature-preview.active {
            display: block;
        }

        .signature-preview img {
            max-width: 100%;
            height: auto;
        }

        .signature-preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        input[type="file"] {
            display: none;
        }

        .file-upload-label {
            display: inline-block;
            padding: 10px 20px;
            background-color: #2d5986;
            color: white;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .file-upload-label:hover {
            background-color: #1e3a5f;
        }

        .agreement-box {
            background-color: #f0fdf4;
            border: 2px solid #22c55e;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .agreement-checkbox {
            display: flex;
            align-items: start;
            gap: 10px;
            margin-top: 10px;
        }

        .agreement-checkbox input[type="checkbox"] {
            margin-top: 3px;
            flex-shrink: 0;
        }

        .agreement-checkbox label {
            font-weight: normal;
            margin-bottom: 0;
        }

        .submit-section {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 3px solid #d4af37;
        }

        .submit-note {
            margin-top: 15px;
            font-size: 14px;
            color: #666;
        }

        .footer {
            background-color: #f3f4f6;
            padding: 20px;
            text-align: center;
            font-size: 13px;
            color: #666;
            border-top: 1px solid #e5e7eb;
        }

        .footer p {
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .grid-2,
            .grid-3 {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 22px;
            }

            .form-content {
                padding: 20px;
            }

            #signatureCanvas {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Bethel Worldwide Corporation</h1>
            <h2>Company Transfer In Form</h2>
            <p>Bethel House, P.O. Box 4749, Road Town, Tortola, British Virgin Islands</p>
        </div>

        <!-- Form Content -->
        <div class="form-content">
            <form id="transferForm">
                <!-- Section 1: Company Name -->
                <div class="section">
                    <h3 class="section-title">1. Name of Company</h3>
                    <div class="form-group">
                        <label>Company Name <span class="required">*</span></label>
                        <input type="text" id="companyName" required>
                        <span class="error-message" id="error-companyName"></span>
                    </div>
                </div>

                <!-- Section 2: Intended Company Trade Activities -->
                <div class="section">
                    <h3 class="section-title">2. Intended Company Trade Activities</h3>
                    
                    <div class="form-group">
                        <label>Please provide a detailed description of the company's business activities <span class="required">*</span></label>
                        <textarea id="businessActivities" rows="4" required></textarea>
                        <span class="error-message" id="error-businessActivities"></span>
                    </div>

                    <div class="form-group">
                        <label>Please confirm the assets held by the company and the estimated value <span class="required">*</span></label>
                        <textarea id="companyAssets" rows="4" required></textarea>
                        <span class="error-message" id="error-companyAssets"></span>
                    </div>

                    <div class="form-group">
                        <label>Please confirm the name/s of the country/ies/jurisdiction/s where the company will be tax compliant</label>
                        <div id="taxCompliantCountriesContainer"></div>
                        <button type="button" class="btn btn-primary" onclick="addTaxCompliantCountry()" style="margin-top: 10px;">+ Add Country/Jurisdiction</button>
                    </div>
                </div>

                <!-- Section 3: Contact Person -->
                <div class="section">
                    <h3 class="section-title">3. Contact Person Authorized to Give Instructions</h3>
                    <div class="info-box">
                        Including forwarding correspondence and invoices on behalf of the Company
                    </div>

                    <div class="form-group">
                        <label>Name <span class="required">*</span></label>
                        <input type="text" id="contactName" required>
                        <span class="error-message" id="error-contactName"></span>
                    </div>

                    <div class="form-group">
                        <label>Address <span class="required">*</span></label>
                        <input type="text" id="contactAddress" required>
                        <span class="error-message" id="error-contactAddress"></span>
                    </div>

                    <div class="form-group">
                        <label>Street</label>
                        <input type="text" id="contactStreet">
                    </div>

                    <div class="grid-2">
                        <div class="form-group">
                            <label>City <span class="required">*</span></label>
                            <input type="text" id="contactCity" required>
                            <span class="error-message" id="error-contactCity"></span>
                        </div>
                        <div class="form-group">
                            <label>State</label>
                            <input type="text" id="contactState">
                        </div>
                    </div>

                    <div class="grid-2">
                        <div class="form-group">
                            <label>Postal Code</label>
                            <input type="text" id="contactPostalCode">
                        </div>
                        <div class="form-group">
                            <label>Country <span class="required">*</span></label>
                            <select id="contactCountry" required>
                                <option value="">Select Country</option>
                            </select>
                            <span class="error-message" id="error-contactCountry"></span>
                        </div>
                    </div>

                    <div class="grid-2">
                        <div class="form-group">
                            <label>Telephone <span class="required">*</span></label>
                            <input type="tel" id="contactTelephone" required>
                            <span class="error-message" id="error-contactTelephone"></span>
                        </div>
                        <div class="form-group">
                            <label>Fax</label>
                            <input type="tel" id="contactFax">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Email <span class="required">*</span></label>
                        <input type="email" id="contactEmail" required>
                        <span class="error-message" id="error-contactEmail"></span>
                    </div>
                </div>

                <!-- Section 4: Source of Funds -->
                <div class="section">
                    <h3 class="section-title">4. Source of Funds</h3>
                    
                    <div class="form-group">
                        <label>Source of Funds Description <span class="required">*</span></label>
                        <textarea id="sourceFunds" rows="4" required></textarea>
                        <span class="error-message" id="error-sourceFunds"></span>
                    </div>
                </div>

                <!-- Section 5: Source of Wealth -->
                <div class="section">
                    <h3 class="section-title">5. Source of Wealth</h3>
                    
                    <div class="info-box">
                        <strong>Source of Wealth</strong> refers to the origin of the entire body of wealth (e.g., inheritance, business ownership, employment income, investments). Please describe how the wealth was accumulated.
                    </div>

                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthEmployment">
                            <span>Employment savings and income</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthDividends">
                            <span>Dividends from investments</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthSale">
                            <span>Proceeds from the sale of a business</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthAsset">
                            <span>Proceeds from the sale of a personal asset</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthInherited">
                            <span>Inherited wealth / family fortune</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthInvestment">
                            <span>Capital investment by an affiliated business</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthLoan">
                            <span>Private or commercial loan</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthInvestors">
                            <span>Investment from outside investors</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="wealthOther">
                            <span>Other</span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label>Please Specify/Describe the Exact Source of Wealth <span class="required">*</span></label>
                        <textarea id="wealthDescription" rows="4" required></textarea>
                        <span class="error-message" id="error-wealthDescription"></span>
                    </div>
                </div>

                <!-- Important Note on Identification Requirements -->
                <div class="warning-box" style="margin-bottom: 30px;">
                    <strong>‚ö†Ô∏è Important Notice:</strong>
                    <p style="margin-top: 10px;">BVI Money-Laundering legislation authorizes us to obtain and hold certified copies of the Beneficial Owner(s), Director(s) and Shareholder(s) passports or other photographic identification (drivers licence) and evidence of residential address. In addition, where applicable, we require additional information in the form of a professional or bank reference on clients as part of our procedures and policies. All identification documents are to be valid and documents evidencing proof of address should not be dated older than 3 months.</p>
                </div>

                <!-- Section 6: Beneficial Owners -->
                <div class="section">
                    <h3 class="section-title">6. Information of the Beneficial Owner(s)</h3>
                    <div id="beneficialOwnersContainer"></div>
                    <button type="button" class="btn btn-primary" onclick="addBeneficialOwner()">+ Add Beneficial Owner</button>
                </div>

                <!-- Section 7: Directors -->
                <div class="section">
                    <h3 class="section-title">7. Director Information</h3>
                    <div class="note-box">
                        <strong>üìã Notes:</strong>
                        <ol style="margin-top: 10px; margin-left: 20px; line-height: 1.6;">
                            <li style="margin-bottom: 10px;">If new directors are to be appointed, please provide an executed director's consent letter.</li>
                            <li><strong>Corporate Directors:</strong> Where the director/s is a Company we will require certified copies of the individual documents listed above on behalf of the beneficial owner/s of the Company together with a certified copy of the Register of Members, Register of Directors, Certificate of Incorporation and Memorandum and Articles of Association of the Company.</li>
                        </ol>
                    </div>
                    <div id="directorsContainer"></div>
                    <button type="button" class="btn btn-primary" onclick="addDirector()">+ Add Director</button>
                </div>

                <!-- Section 8: Shareholders -->
                <div class="section">
                    <h3 class="section-title">8. Shareholder Information</h3>
                    
                    <div class="note-box" style="margin-bottom: 20px;">
                        <strong>üìã Important Notes:</strong>
                        <ol style="margin-top: 10px; margin-left: 20px; line-height: 1.6;">
                            <li style="margin-bottom: 10px;"><strong>Corporate Shareholders:</strong> Please provide on behalf of each Corporate Shareholder, certified or duly notarized copies of the Certificate of Incorporation, Memorandum and Articles of Association, Register of Members and Register of Directors together with the due diligence requirements of the beneficial owner of the company.</li>
                            <li><strong>Listed Company Shareholders:</strong> Where a company listed on a stock exchange is a shareholder of a BVI Business Company, the following KYC (Know Your Client) documentation is required:
                                <ul style="margin-top: 5px; margin-left: 20px;">
                                    <li>Confirmation of listing</li>
                                    <li>Latest audited financial statements</li>
                                    <li>Structure chart showing the BVI link to the listed company</li>
                                </ul>
                            </li>
                        </ol>
                    </div>
                    
                    <div id="shareholdersContainer"></div>
                    <button type="button" class="btn btn-primary" onclick="addShareholder()">+ Add Shareholder</button>
                </div>

                <!-- Section 9: Officers -->
                <div class="section">
                    <h3 class="section-title">9. Officers (Optional)</h3>
                    <div class="info-box">
                        It is not a requirement of BVI law to appoint officers. If officers are to be appointed, please provide the details below.
                    </div>
                    <div id="officersContainer"></div>
                    <button type="button" class="btn btn-primary" onclick="addOfficer()">+ Add Officer</button>
                </div>

                <!-- Section 10: Document Location -->
                <div class="section">
                    <h3 class="section-title">10. Location of Original Documents</h3>
                    <div class="info-box">
                        <strong>Section 96 of the Business Companies Act:</strong> The Registered Agent must be aware of the physical location of original documents (Register of Members, Register of Directors, Company Seal, all resolutions/minutes) if not held by the Registered Agent.
                    </div>

                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="documentsLocation" value="agent" onchange="toggleDocumentLocation()">
                            <span>Documents will be held by Bethel Worldwide Corporation (Registered Agent)</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="documentsLocation" value="other" onchange="toggleDocumentLocation()">
                            <span>Documents will be held at another location</span>
                        </label>
                    </div>

                    <div id="otherDocumentLocation" style="display: none; margin-top: 20px;">
                        <div class="form-group">
                            <label>Contact Person or Firm Holding Documents</label>
                            <input type="text" id="docLocationContact">
                        </div>
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" id="docLocationAddress">
                        </div>
                        <div class="form-group">
                            <label>Street</label>
                            <input type="text" id="docLocationStreet">
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>City</label>
                                <input type="text" id="docLocationCity">
                            </div>
                            <div class="form-group">
                                <label>State</label>
                                <input type="text" id="docLocationState">
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Postal Code</label>
                                <input type="text" id="docLocationPostalCode">
                            </div>
                            <div class="form-group">
                                <label>Country</label>
                                <select id="docLocationCountry">
                                    <option value="">Select Country</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="docLocationEmail">
                            </div>
                            <div class="form-group">
                                <label>Telephone Number</label>
                                <input type="tel" id="docLocationPhone">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 11: Financial Information -->
                <div class="section">
                    <h3 class="section-title">11. Financial Information</h3>
                    
                    <div class="form-group">
                        <label>Does the company have a bank account?</label>
                        <div class="radio-group" style="flex-direction: row; gap: 20px;">
                            <label class="radio-label">
                                <input type="radio" name="hasBankAccount" value="yes" onchange="toggleBankInfo()">
                                <span>Yes</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="hasBankAccount" value="no" onchange="toggleBankInfo()">
                                <span>No</span>
                            </label>
                        </div>
                    </div>

                    <div id="bankAccountInfo" style="display: none;">
                        <div class="form-group">
                            <label>Name of Institution</label>
                            <input type="text" id="bankName">
                        </div>
                        <div class="form-group">
                            <label>Bank Address</label>
                            <input type="text" id="bankAddress">
                        </div>
                        <div class="form-group">
                            <label>Street</label>
                            <input type="text" id="bankStreet">
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>City</label>
                                <input type="text" id="bankCity">
                            </div>
                            <div class="form-group">
                                <label>State</label>
                                <input type="text" id="bankState">
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Postal Code</label>
                                <input type="text" id="bankPostalCode">
                            </div>
                            <div class="form-group">
                                <label>Country</label>
                                <select id="bankCountry">
                                    <option value="">Select Country</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="requireBankAccount">
                            <span>Is a Bank Account required?</span>
                        </label>
                    </div>

                    <div class="form-group" style="margin-top: 25px;">
                        <label>Do you require us to prepare yearly accounts?</label>
                        <div class="radio-group" style="flex-direction: row; gap: 20px;">
                            <label class="radio-label">
                                <input type="radio" name="requireAccounting" value="yes" onchange="toggleAccountingInfo()">
                                <span>Yes</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="requireAccounting" value="no" onchange="toggleAccountingInfo()">
                                <span>No</span>
                            </label>
                        </div>
                    </div>

                    <!-- Show if YES to yearly accounts -->
                    <div id="accountingYearEndYes" style="display: none; margin-top: 15px;">
                        <div class="form-group">
                            <label>Accounting Year End Reference Date (DD/MM)</label>
                            <input type="text" id="accountingYearEndDate" placeholder="e.g., 31/12">
                        </div>
                        <div class="form-group">
                            <label>Company Financial Year End Date and any other special requirements</label>
                            <textarea id="financialRequirements" rows="3"></textarea>
                        </div>
                    </div>

                    <!-- Show if NO to yearly accounts -->
                    <div id="accountingYearEndNo" style="display: none; margin-top: 15px;">
                        <div class="subsection-title">Financial Documents Location</div>
                        <div class="form-group">
                            <label>Contact person or firm holding the company's financial documents</label>
                            <input type="text" id="financialContactName">
                        </div>
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" id="financialContactAddress">
                        </div>
                        <div class="form-group">
                            <label>Street</label>
                            <input type="text" id="financialContactStreet">
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>City</label>
                                <input type="text" id="financialContactCity">
                            </div>
                            <div class="form-group">
                                <label>State</label>
                                <input type="text" id="financialContactState">
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Postal Code</label>
                                <input type="text" id="financialContactPostalCode">
                            </div>
                            <div class="form-group">
                                <label>Country</label>
                                <select id="financialContactCountry">
                                    <option value="">Select Country</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid-2">
                            <div class="form-group">
                                <label>Contact's Phone</label>
                                <input type="tel" id="financialContactPhone">
                            </div>
                            <div class="form-group">
                                <label>Contact's Email</label>
                                <input type="email" id="financialContactEmail">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Company's Financial Year End Date (DD/MM)</label>
                            <input type="text" id="companyFinancialYearEnd" placeholder="e.g., 31/12">
                        </div>
                        <div class="form-group">
                            <label>Any other special requirements</label>
                            <textarea id="otherSpecialRequirements" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Required Documents Checklist -->
                <div class="section">
                    <h3 class="section-title">Documentation of the Company</h3>
                    
                    <div class="note-box">
                        <strong>üìé Instructions:</strong> Check the box next to each document you are including with this form submission.
                    </div>

                    <!-- Corporate Records -->
                    <div class="subsection-title">Corporate Records</div>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_certificate">
                            <span>Certificate of Incorporation</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_memorandum">
                            <span>Memorandum and Articles of Association</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_register_members">
                            <span>Registry filed Register of Members (Shareholders)</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_register_directors">
                            <span>Registry filed Register of Directors</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_register_beneficial">
                            <span>Registry filed Register of Beneficial Owners</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_share_certificates">
                            <span>Share Certificates</span>
                        </label>
                    </div>

                    <!-- If Applicable Section -->
                    <div class="subsection-title" style="margin-top: 20px;">If Applicable</div>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_register_officers">
                            <span>Updated Register of Officers</span>
                        </label>
                        <label class="checkbox-label" style="margin-left: 30px;">
                            <input type="checkbox" id="doc_register_officers_na">
                            <span style="font-style: italic; color: #666;">Not Applicable (check if your company does not have officers beyond directors)</span>
                        </label>
                        
                        <label class="checkbox-label" style="margin-top: 15px;">
                            <input type="checkbox" id="doc_register_charges">
                            <span>Register of Charges</span>
                        </label>
                        <label class="checkbox-label" style="margin-left: 30px;">
                            <input type="checkbox" id="doc_register_charges_na">
                            <span style="font-style: italic; color: #666;">Not Applicable (check if your company has no registered charges)</span>
                        </label>
                    </div>

                    <!-- Legal & Compliance -->
                    <div class="subsection-title" style="margin-top: 20px;">Legal & Compliance</div>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_company_seal">
                            <span>An imprint of the company seal</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_consent_directors">
                            <span>Copy of the Consent(s) to act as directors</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_resolutions">
                            <span>Copies of the resolutions of directors</span>
                        </label>
                        
                        <label class="checkbox-label" style="margin-top: 15px;">
                            <input type="checkbox" id="doc_litigation">
                            <span>Documents relating to pending or prior litigation</span>
                        </label>
                        <label class="checkbox-label" style="margin-left: 30px;">
                            <input type="checkbox" id="doc_litigation_na">
                            <span style="font-style: italic; color: #666;">Not Applicable (check if no litigation exists)</span>
                        </label>
                    </div>

                    <!-- Regulatory Filings -->
                    <div class="subsection-title" style="margin-top: 20px;">Regulatory Filings</div>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_economic_substance">
                            <span>Copy of annual economic substance report</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="doc_annual_return">
                            <span>Copy of annual return filing</span>
                        </label>
                    </div>

                    <!-- Company Information -->
                    <div class="subsection-title" style="margin-top: 20px;">Company Information</div>
                    <div class="form-group">
                        <label>Financial Year End Date</label>
                        <input type="date" id="financial_year_end">
                    </div>

                    <!-- Document Submission Checklist Summary -->
                    <div class="warning-box" style="margin-top: 30px; background-color: #f0f9ff; border-color: #2d5986;">
                        <strong>üìã Document Submission Checklist Summary</strong>
                        <p style="margin-top: 15px;"><strong>Total documents required:</strong> 11 core documents + applicable items</p>
                        
                        <div style="margin-top: 15px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Documents included with this submission:</label>
                            <textarea id="documents_list" rows="6" placeholder="Please list all documents you are attaching (e.g., 1. Certificate of Incorporation, 2. Memorandum and Articles...)"></textarea>
                        </div>

                        <div style="margin-top: 15px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Documents marked "Not Applicable":</label>
                            <input type="text" id="documents_na_count" placeholder="Enter number (e.g., 2)">
                        </div>
                    </div>

                    <!-- Certification Requirements -->
                    <div class="warning-box" style="margin-top: 20px;">
                        <strong>Certification Requirements:</strong>
                        <p style="margin-top: 10px;">Documents must be certified by: Lawyer, Certified Auditor, Notary Public, Embassy Official, Certified Accountant, Consulate, Medical Practitioner, Judicial Officer, Senior Public Officer, Senior Police Officer, Director/Manager/Senior Officer of a Regulated Financial Institution, Commissioner of Oaths, or Bank Manager.</p>
                        <p style="margin-top: 10px;">Certification must include: certifier's name, address, date, and signature or seal.</p>
                        <p style="margin-top: 10px;"><strong>Translation:</strong> All documents supplied to us must be in English or translated into English by a certified translator. The name and address of the certified translator, the date of the certification and the signature or seal of the certified translator must be clearly stated on the translated documents.</p>
                    </div>

                    <!-- Final Confirmation -->
                    <div class="agreement-box" style="margin-top: 20px;">
                        <strong>Document Submission Confirmation</strong>
                        <div class="agreement-checkbox">
                            <input type="checkbox" id="confirm_documents_attached" required>
                            <label for="confirm_documents_attached">
                                I confirm that all checked documents are attached to this email submission. <span class="required">*</span>
                            </label>
                        </div>
                        <span class="error-message" id="error-confirm_documents"></span>
                    </div>
                </div>

                <!-- Declaration and Signature -->
                <div class="section">
                    <h3 class="section-title">Declaration</h3>
                    
                    <div class="form-group" style="margin-bottom: 25px;">
                        <label>Select Declaration Type <span class="required">*</span></label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="declarationType" value="beneficial" onchange="toggleDeclarationType()">
                                <span>Beneficial Owner(s) Declaration</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="declarationType" value="professional" onchange="toggleDeclarationType()">
                                <span>Professional Adviser(s) Declaration</span>
                            </label>
                        </div>
                        <span class="error-message" id="error-declarationType"></span>
                    </div>

                    <!-- Beneficial Owner(s) Declaration -->
                    <div id="beneficialDeclaration" style="display: none;">
                        <div class="warning-box">
                            <strong>Beneficial Owner(s) Declaration:</strong>
                            <p style="margin-top: 10px;">I/We confirm that to the best of my/our knowledge and belief that the information contained and provided in and with this Incorporation Questionnaire is correct and that we will inform Bethel Worldwide Corporation of any changes to the information contained in. We confirm that we will discharge all professional fees and costs arising from the incorporation and administration of the Company as requested by Bethel Worldwide Corporation.</p>
                        </div>

                        <div id="beneficialSignaturesContainer" style="margin-top: 20px;"></div>
                        <button type="button" class="btn btn-primary" onclick="addBeneficialSignature()" style="margin-top: 15px;">+ Add Beneficial Owner Signature</button>
                    </div>

                    <!-- Professional Adviser(s) Declaration -->
                    <div id="professionalDeclaration" style="display: none;">
                        <div class="warning-box">
                            <strong>Professional Adviser(s) Declaration:</strong>
                            <p style="margin-top: 10px;">I/We, the undersigned, acting as professional advisers with full authority of the beneficial owner(s) of the Company, certify and confirm that to the best of my/our knowledge and belief that:-</p>
                            <ol style="margin-top: 10px; margin-left: 20px; line-height: 1.8;">
                                <li>The information contained in the incorporation questionnaire is correct.</li>
                                <li>We will inform Bethel Worldwide Corporation should any changes occur to the information in the incorporation questionnaire.</li>
                                <li>We are authorized to sign on behalf of the beneficial owner(s) of the Company and other related forms provided in the incorporation questionnaire.</li>
                                <li>We will discharge all professional fees and costs arising from the incorporation and administration of the Company as requested by Bethel Worldwide Corporation.</li>
                                <li>Confirm that the beneficial owner(s) indemnify(ies) and hold(s) blameless any member of the practice or its staff who act in any capacity for the company from any claim or action from their connection with the company unless fraud or negligence can be proved.</li>
                                <li>We have undertaken adequate compliance/due diligence procedures with regards to the identity of the beneficial owner of the Company and have received satisfactory references.</li>
                                <li>We know of no reason why Bethel Worldwide Corporation should not or continue to act as Registered Agent and Registered Office.</li>
                                <li>We will inform Bethel Worldwide Corporation immediately if we cease to act for the client.</li>
                            </ol>
                        </div>

                        <div class="form-group" style="margin-top: 20px;">
                            <label>Name of Professional Adviser <span class="required">*</span></label>
                            <input type="text" id="professionalAdviserName">
                            <span class="error-message" id="error-professionalAdviserName"></span>
                        </div>

                        <div class="form-group">
                            <label>Firm/Practice Name <span class="required">*</span></label>
                            <input type="text" id="professionalFirmName">
                            <span class="error-message" id="error-professionalFirmName"></span>
                        </div>

                        <div class="form-group">
                            <label>Date <span class="required">*</span></label>
                            <input type="date" id="professionalDeclarationDate">
                            <span class="error-message" id="error-professionalDeclarationDate"></span>
                        </div>

                        <!-- Professional Adviser Digital Signature -->
                        <div class="form-group">
                            <label>Digital Signature <span class="required">*</span></label>
                            <div class="info-box">
                                <strong>üìù About Digital Signatures:</strong> Your digital signature has the same legal validity as a handwritten signature. 
                                You can either draw your signature using your mouse/touchscreen or upload an image of your signature.
                            </div>
                            
                            <div class="signature-container">
                                <div class="signature-tabs">
                                    <button type="button" class="signature-tab active" onclick="switchSignatureTab('draw')">
                                        ‚úçÔ∏è Draw Signature
                                    </button>
                                    <button type="button" class="signature-tab" onclick="switchSignatureTab('upload')">
                                        üì§ Upload Image
                                    </button>
                                </div>

                                <div id="drawPanel" class="signature-panel active">
                                    <p style="margin-bottom: 10px; color: #666; font-size: 14px;">Draw your signature in the box below:</p>
                                    <canvas id="signatureCanvas" width="500" height="200"></canvas>
                                    <div class="canvas-controls">
                                        <button type="button" class="btn btn-secondary" onclick="clearSignature()">Clear</button>
                                        <button type="button" class="btn btn-primary" onclick="saveDrawnSignature()">Save Signature</button>
                                    </div>
                                </div>

                                <div id="uploadPanel" class="signature-panel">
                                    <p style="margin-bottom: 10px; color: #666; font-size: 14px;">Upload an image of your signature (PNG, JPG, or JPEG):</p>
                                    <input type="file" id="signatureUpload" accept="image/png,image/jpeg,image/jpg">
                                    <label for="signatureUpload" class="file-upload-label">üìÅ Choose File</label>
                                    <p style="margin-top: 10px; font-size: 13px; color: #666;">For best results, use a clear image with a white background.</p>
                                </div>

                                <div id="signaturePreview" class="signature-preview">
                                    <div class="signature-preview-header">
                                        <span style="color: #059669; font-weight: 600;">‚úì Signature Captured</span>
                                        <button type="button" class="btn btn-secondary" onclick="clearSavedSignature()" style="padding: 6px 12px; font-size: 14px;">Change</button>
                                    </div>
                                    <img id="signatureImage" src="" alt="Your Signature">
                                </div>
                            </div>
                            <span class="error-message" id="error-signature"></span>
                        </div>

                        <div class="agreement-box">
                            <strong>Electronic Signature Agreement</strong>
                            <div class="agreement-checkbox">
                                <input type="checkbox" id="signatureAgreement" required>
                                <label for="signatureAgreement">
                                    I agree that my digital signature above is the legal equivalent of my manual/handwritten signature and I consent to be legally bound by this electronic signature. <span class="required">*</span>
                                </label>
                            </div>
                            <span class="error-message" id="error-agreement"></span>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="submit-section">
                    <button type="submit" class="btn-submit">Download Transfer Form (PDF)</button>
                    <p class="submit-note">* Indicates required field</p>
                    <p class="submit-note">After downloading, please email the completed form with all required documents to Bethel Worldwide Corporation</p>
                </div>
            </form>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>&copy; <span id="currentYear"></span> Bethel Worldwide Corporation. All rights reserved.</p>
            <p>Bethel House, P.O. Box 4749, Road Town, Tortola, British Virgin Islands</p>
            <p>Phone: (284) 494-0778 | Fax: (284) 494-0781 | Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6900070f06290b0c1d010c051e061b050d1e000d0c0b1f00470a0604">[email&#160;protected]</a></p>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Set current year
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Signature variables
        let signatureDataURL = null;

        // Arrays for dynamic sections
        let beneficialOwners = [];
        let directors = [];
        let shareholders = [];
        let officers = [];
        let taxCompliantCountries = [];

        // Nationalities list
        const nationalities = ["Afghan", "Albanian", "Algerian", "Andorran", "Angolan", "Antiguan", "Argentine", "Armenian", "Australian", "Austrian", "Azerbaijani", "Bahamian", "Bahraini", "Bangladeshi", "Barbadian", "Belarusian", "Belgian", "Belizean", "Beninese", "Bhutanese", "Bolivian", "Bosnian", "Botswanan", "Brazilian", "British", "Bruneian", "Bulgarian", "Burkinabe", "Burundian", "Cabo Verdean", "Cambodian", "Cameroonian", "Canadian", "Central African", "Chadian", "Chilean", "Chinese", "Colombian", "Comoran", "Congolese", "Costa Rican", "Croatian", "Cuban", "Cypriot", "Czech", "Danish", "Djiboutian", "Dominican", "Dutch", "East Timorese", "Ecuadorian", "Egyptian", "Emirati", "English", "Equatorial Guinean", "Eritrean", "Estonian", "Ethiopian", "Fijian", "Filipino", "Finnish", "French", "Gabonese", "Gambian", "Georgian", "German", "Ghanaian", "Greek", "Grenadian", "Guatemalan", "Guinean", "Guyanese", "Haitian", "Honduran", "Hungarian", "Icelandic", "Indian", "Indonesian", "Iranian", "Iraqi", "Irish", "Israeli", "Italian", "Ivorian", "Jamaican", "Japanese", "Jordanian", "Kazakh", "Kenyan", "Kittitian", "Kuwaiti", "Kyrgyz", "Laotian", "Latvian", "Lebanese", "Liberian", "Libyan", "Liechtensteiner", "Lithuanian", "Luxembourgish", "Macedonian", "Malagasy", "Malawian", "Malaysian", "Maldivian", "Malian", "Maltese", "Marshallese", "Mauritanian", "Mauritian", "Mexican", "Micronesian", "Moldovan", "Monacan", "Mongolian", "Montenegrin", "Moroccan", "Mozambican", "Myanmar", "Namibian", "Nauruan", "Nepalese", "New Zealander", "Nicaraguan", "Nigerian", "Nigerien", "North Korean", "Norwegian", "Omani", "Pakistani", "Palauan", "Palestinian", "Panamanian", "Papua New Guinean", "Paraguayan", "Peruvian", "Polish", "Portuguese", "Qatari", "Romanian", "Russian", "Rwandan", "Saint Lucian", "Salvadoran", "Samoan", "San Marinese", "Saudi", "Scottish", "Senegalese", "Serbian", "Seychellois", "Sierra Leonean", "Singaporean", "Slovak", "Slovenian", "Solomon Islander", "Somali", "South African", "South Korean", "South Sudanese", "Spanish", "Sri Lankan", "Sudanese", "Surinamese", "Swazi", "Swedish", "Swiss", "Syrian", "Taiwanese", "Tajik", "Tanzanian", "Thai", "Togolese", "Tongan", "Trinidadian", "Tunisian", "Turkish", "Turkmen", "Tuvaluan", "Ugandan", "Ukrainian", "Uruguayan", "Uzbek", "Vanuatuan", "Venezuelan", "Vietnamese", "Welsh", "Yemeni", "Zambian", "Zimbabwean"];

        // Countries list
        const countries = ["Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia", "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria", "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada", "Central African Republic", "Chad", "Chile", "China", "Colombia", "Comoros", "Congo", "Costa Rica", "Croatia", "Cuba", "Cyprus", "Czech Republic", "Democratic Republic of the Congo", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "East Timor", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Eswatini", "Ethiopia", "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala", "Guinea", "Guinea-Bissau", "Guyana", "Haiti", "Honduras", "Hungary", "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Israel", "Italy", "Ivory Coast", "Jamaica", "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Kosovo", "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro", "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger", "Nigeria", "North Korea", "North Macedonia", "Norway", "Oman", "Pakistan", "Palau", "Palestine", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal", "Qatar", "Romania", "Russia", "Rwanda", "Saint Kitts and Nevis", "Saint Lucia", "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "South Korea", "South Sudan", "Spain", "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan", "Tanzania", "Thailand", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "Uruguay", "Uzbekistan", "Vanuatu", "Vatican City", "Venezuela", "Vietnam", "Virgin Islands, British", "Yemen", "Zambia", "Zimbabwe"];

        // Populate country dropdowns
        function populateCountryDropdowns() {
            const dropdowns = ['contactCountry', 'bankCountry'];
            dropdowns.forEach(dropdownId => {
                const dropdown = document.getElementById(dropdownId);
                if (dropdown) {
                    countries.forEach(country => {
                        const option = document.createElement('option');
                        option.value = country;
                        option.textContent = country;
                        dropdown.appendChild(option);
                    });
                }
            });
        }

        // Canvas setup
        const canvas = document.getElementById('signatureCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        ctx.strokeStyle = '#000';
        ctx.lineWidth = 2;
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';

        // Drawing functions
        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            
            if (e.type === 'mousedown') {
                lastX = (e.clientX - rect.left) * scaleX;
                lastY = (e.clientY - rect.top) * scaleY;
            } else if (e.type === 'touchstart') {
                e.preventDefault();
                lastX = (e.touches[0].clientX - rect.left) * scaleX;
                lastY = (e.touches[0].clientY - rect.top) * scaleY;
            }
        }

        function draw(e) {
            if (!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            let currentX, currentY;
            
            if (e.type === 'mousemove') {
                currentX = (e.clientX - rect.left) * scaleX;
                currentY = (e.clientY - rect.top) * scaleY;
            } else if (e.type === 'touchmove') {
                e.preventDefault();
                currentX = (e.touches[0].clientX - rect.left) * scaleX;
                currentY = (e.touches[0].clientY - rect.top) * scaleY;
            }

            ctx.beginPath();
            ctx.moveTo(lastX, lastY);
            ctx.lineTo(currentX, currentY);
            ctx.stroke();
            lastX = currentX;
            lastY = currentY;
        }

        function stopDrawing() {
            isDrawing = false;
        }

        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);
        canvas.addEventListener('touchstart', startDrawing);
        canvas.addEventListener('touchmove', draw);
        canvas.addEventListener('touchend', stopDrawing);

        function clearSignature() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function saveDrawnSignature() {
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            let isEmpty = true;
            for (let i = 0; i < data.length; i += 4) {
                if (data[i + 3] !== 0) {
                    isEmpty = false;
                    break;
                }
            }
            if (isEmpty) {
                alert('Please draw your signature before saving.');
                return;
            }
            signatureDataURL = canvas.toDataURL();
            document.getElementById('signatureImage').src = signatureDataURL;
            document.getElementById('signaturePreview').classList.add('active');
        }

        function clearSavedSignature() {
            signatureDataURL = null;
            document.getElementById('signaturePreview').classList.remove('active');
            clearSignature();
        }

        document.getElementById('signatureUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            if (!file.type.match('image/(png|jpeg|jpg)')) {
                alert('Please upload a PNG or JPEG image.');
                return;
            }
            const reader = new FileReader();
            reader.onload = function(event) {
                signatureDataURL = event.target.result;
                document.getElementById('signatureImage').src = signatureDataURL;
                document.getElementById('signaturePreview').classList.add('active');
            };
            reader.readAsDataURL(file);
        });

        function switchSignatureTab(tab, type = '') {
            const suffix = type ? type.charAt(0).toUpperCase() + type.slice(1) : '';
            const drawPanelId = type ? `drawPanel${suffix}` : 'drawPanel';
            const uploadPanelId = type ? `uploadPanel${suffix}` : 'uploadPanel';
            
            const container = type ? document.getElementById(drawPanelId)?.parentElement : document.querySelector('.signature-container');
            if (!container) return;
            
            const tabs = container.querySelectorAll('.signature-tab');
            const panels = container.querySelectorAll('.signature-panel');
            tabs.forEach(t => t.classList.remove('active'));
            panels.forEach(p => p.classList.remove('active'));
            
            if (tab === 'draw') {
                tabs[0]?.classList.add('active');
                document.getElementById(drawPanelId)?.classList.add('active');
            } else {
                tabs[1]?.classList.add('active');
                document.getElementById(uploadPanelId)?.classList.add('active');
            }
        }

        function toggleDocumentLocation() {
            const other = document.querySelector('input[name="documentsLocation"][value="other"]').checked;
            document.getElementById('otherDocumentLocation').style.display = other ? 'block' : 'none';
        }

        function toggleBankInfo() {
            const hasAccount = document.querySelector('input[name="hasBankAccount"][value="yes"]').checked;
            document.getElementById('bankAccountInfo').style.display = hasAccount ? 'block' : 'none';
        }

        function toggleAccountingInfo() {
            const yesSelected = document.querySelector('input[name="requireAccounting"][value="yes"]');
            const noSelected = document.querySelector('input[name="requireAccounting"][value="no"]');
            
            if (yesSelected && yesSelected.checked) {
                document.getElementById('accountingYearEndYes').style.display = 'block';
                document.getElementById('accountingYearEndNo').style.display = 'none';
            } else if (noSelected && noSelected.checked) {
                document.getElementById('accountingYearEndYes').style.display = 'none';
                document.getElementById('accountingYearEndNo').style.display = 'block';
            } else {
                document.getElementById('accountingYearEndYes').style.display = 'none';
                document.getElementById('accountingYearEndNo').style.display = 'none';
            }
        }

        // Beneficial Owner functions
        function addBeneficialOwner() {
            const index = beneficialOwners.length;
            beneficialOwners.push({});
            const container = document.getElementById('beneficialOwnersContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <div class="array-item-header">
                    <div class="array-item-title">Beneficial Owner ${index + 1}</div>
                    ${index > 0 ? `<button type="button" class="btn btn-danger" onclick="removeBeneficialOwner(${index})">Remove</button>` : ''}
                </div>
                <div class="form-group">
                    <label>Name of Beneficial Owner</label>
                    <input type="text" data-bo="${index}" data-field="name">
                </div>
                <div class="form-group">
                    <label>Former Name</label>
                    <input type="text" data-bo="${index}" data-field="formerName">
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" data-bo="${index}" data-field="address">
                </div>
                <div class="form-group">
                    <label>Street</label>
                    <input type="text" data-bo="${index}" data-field="street">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" data-bo="${index}" data-field="city">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" data-bo="${index}" data-field="state">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" data-bo="${index}" data-field="postalCode">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select data-bo="${index}" data-field="country">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="subsection-title">Mailing Address (if different)</div>
                <div class="form-group">
                    <label>Street</label>
                    <input type="text" data-bo="${index}" data-field="mailingStreet">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" data-bo="${index}" data-field="mailingCity">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" data-bo="${index}" data-field="mailingState">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" data-bo="${index}" data-field="mailingPostalCode">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select data-bo="${index}" data-field="mailingCountry">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Telephone</label>
                        <input type="tel" data-bo="${index}" data-field="telephone">
                    </div>
                    <div class="form-group">
                        <label>Fax</label>
                        <input type="tel" data-bo="${index}" data-field="fax">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" data-bo="${index}" data-field="email">
                    </div>
                    <div class="form-group">
                        <label>Date of Birth</label>
                        <input type="date" data-bo="${index}" data-field="dob">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Occupation</label>
                        <input type="text" data-bo="${index}" data-field="occupation">
                    </div>
                    <div class="form-group">
                        <label>Nationality</label>
                        <select data-bo="${index}" data-field="nationality">
                            <option value="">Select Nationality</option>
                            ${nationalities.map(n => `<option value="${n}">${n}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="subsection-title">Passport Details</div>
                <div class="grid-3">
                    <div class="form-group">
                        <label>Passport Number</label>
                        <input type="text" data-bo="${index}" data-field="passportNumber">
                    </div>
                    <div class="form-group">
                        <label>Issuing Country</label>
                        <select data-bo="${index}" data-field="passportCountry">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Date of Expiry</label>
                        <input type="date" data-bo="${index}" data-field="passportExpiry">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Employer</label>
                        <input type="text" data-bo="${index}" data-field="employer">
                    </div>
                    <div class="form-group">
                        <label>Employer Address</label>
                        <input type="text" data-bo="${index}" data-field="employerAddress">
                    </div>
                </div>
                <div class="subsection-title">Tax Information</div>
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" data-bo="${index}" data-field="usResident">
                        <span>Are you a US Citizen or Green Card Holder?</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" data-bo="${index}" data-field="formerUSResident">
                        <span>Have you been a US Citizen in the past? (If yes, evidence of renunciation must be attached)</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" data-bo="${index}" data-field="ukTaxResident">
                        <span>Are you tax resident in the United Kingdom?</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" data-bo="${index}" data-field="ukTaxDomicile">
                        <span>Are you tax domicile in the United Kingdom?</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" data-bo="${index}" data-field="taxCompliant">
                        <span>I confirm that I am compliant with all tax obligations which are relevant to me</span>
                    </label>
                </div>
                <div class="form-group">
                    <label>Tax Identification Number (or similar)</label>
                    <input type="text" data-bo="${index}" data-field="taxId">
                </div>
                <div class="subsection-title">Politically Exposed Person (PEP)</div>
                <div class="info-box">
                    A Politically Exposed Person (PEP) is defined as an individual who is or has been entrusted with a prominent public function.
                </div>
                <div class="form-group">
                    <label>Is the Beneficial Owner a PEP or closely related to or connected to a PEP?</label>
                    <div class="radio-group" style="flex-direction: row; gap: 20px;">
                        <label class="radio-label">
                            <input type="radio" name="pep_${index}" value="yes" onchange="togglePEPExplanation(${index})">
                            <span>Yes</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="pep_${index}" value="no" onchange="togglePEPExplanation(${index})">
                            <span>No</span>
                        </label>
                    </div>
                </div>
                <div id="pepExplanation_${index}" style="display: none;">
                    <div class="form-group">
                        <label>Please Explain</label>
                        <textarea data-bo="${index}" data-field="pepExplanation" rows="3"></textarea>
                    </div>
                </div>
            `;
            container.appendChild(div);
        }

        function removeBeneficialOwner(index) {
            const container = document.getElementById('beneficialOwnersContainer');
            container.children[index].remove();
            beneficialOwners[index] = null;
        }

        function togglePEPExplanation(index) {
            const isPEP = document.querySelector(`input[name="pep_${index}"][value="yes"]`).checked;
            const explanation = document.getElementById(`pepExplanation_${index}`);
            if (explanation) {
                explanation.style.display = isPEP ? 'block' : 'none';
            }
        }

        // Declaration type toggle
        function toggleDeclarationType() {
            const beneficialSelected = document.querySelector('input[name="declarationType"][value="beneficial"]');
            const professionalSelected = document.querySelector('input[name="declarationType"][value="professional"]');
            
            if (beneficialSelected && beneficialSelected.checked) {
                document.getElementById('beneficialDeclaration').style.display = 'block';
                document.getElementById('professionalDeclaration').style.display = 'none';
                // Initialize with one signature if empty
                if (beneficialSignatures.length === 0) {
                    addBeneficialSignature();
                }
            } else if (professionalSelected && professionalSelected.checked) {
                document.getElementById('beneficialDeclaration').style.display = 'none';
                document.getElementById('professionalDeclaration').style.display = 'block';
            } else {
                document.getElementById('beneficialDeclaration').style.display = 'none';
                document.getElementById('professionalDeclaration').style.display = 'none';
            }
        }

        // Beneficial owner signatures array
        let beneficialSignatures = [];

        function addBeneficialSignature() {
            const index = beneficialSignatures.length;
            beneficialSignatures.push({});
            const container = document.getElementById('beneficialSignaturesContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <div class="array-item-header">
                    <div class="array-item-title">Beneficial Owner ${index + 1}</div>
                    ${index > 0 ? `<button type="button" class="btn btn-danger" onclick="removeBeneficialSignature(${index})">Remove</button>` : ''}
                </div>
                
                <div class="form-group">
                    <label>Name of Beneficial Owner</label>
                    <input type="text" id="beneficialOwnerName_${index}" placeholder="Full name of beneficial owner">
                </div>

                <div class="form-group">
                    <label>Date</label>
                    <input type="date" id="beneficialOwnerDate_${index}">
                </div>

                <div class="info-box" style="margin-top: 15px;">
                    <strong>üìù Signature Instructions:</strong> Each beneficial owner must sign the downloaded PDF document before submitting it to Bethel Worldwide Corporation. Spaces for signatures will be included in the final PDF.
                </div>
            `;
            container.appendChild(div);
        }

        function removeBeneficialSignature(index) {
            const container = document.getElementById('beneficialSignaturesContainer');
            if (container.children[index]) {
                container.children[index].remove();
            }
            beneficialSignatures[index] = null;
        }

        // Director functions
        function addDirector() {
            const index = directors.length;
            directors.push({});
            const container = document.getElementById('directorsContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <div class="array-item-header">
                    <div class="array-item-title">Director ${index + 1}</div>
                    ${index > 0 ? `<button type="button" class="btn btn-danger" onclick="removeDirector(${index})">Remove</button>` : ''}
                </div>
                <div class="form-group">
                    <label>Name of Director</label>
                    <input type="text" data-director="${index}" data-field="name">
                </div>
                <div class="form-group">
                    <label>Former Name</label>
                    <input type="text" data-director="${index}" data-field="formerName">
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" data-director="${index}" data-field="address">
                </div>
                <div class="form-group">
                    <label>Street</label>
                    <input type="text" data-director="${index}" data-field="street">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" data-director="${index}" data-field="city">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" data-director="${index}" data-field="state">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" data-director="${index}" data-field="postalCode">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select data-director="${index}" data-field="country">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="subsection-title">Mailing Address (if different)</div>
                <div class="form-group">
                    <label>Street</label>
                    <input type="text" data-director="${index}" data-field="mailingStreet">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" data-director="${index}" data-field="mailingCity">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" data-director="${index}" data-field="mailingState">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" data-director="${index}" data-field="mailingPostalCode">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select data-director="${index}" data-field="mailingCountry">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Telephone</label>
                        <input type="tel" data-director="${index}" data-field="telephone">
                    </div>
                    <div class="form-group">
                        <label>Fax</label>
                        <input type="tel" data-director="${index}" data-field="fax">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" data-director="${index}" data-field="email">
                    </div>
                    <div class="form-group">
                        <label>Date of Birth</label>
                        <input type="date" data-director="${index}" data-field="dob">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Occupation</label>
                        <input type="text" data-director="${index}" data-field="occupation">
                    </div>
                    <div class="form-group">
                        <label>Nationality</label>
                        <select data-director="${index}" data-field="nationality">
                            <option value="">Select Nationality</option>
                            ${nationalities.map(n => `<option value="${n}">${n}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="subsection-title">Passport Details</div>
                <div class="grid-3">
                    <div class="form-group">
                        <label>Passport Number</label>
                        <input type="text" data-director="${index}" data-field="passportNumber">
                    </div>
                    <div class="form-group">
                        <label>Issuing Country</label>
                        <select data-director="${index}" data-field="passportCountry">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Date of Expiry</label>
                        <input type="date" data-director="${index}" data-field="passportExpiry">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Employer</label>
                        <input type="text" data-director="${index}" data-field="employer">
                    </div>
                    <div class="form-group">
                        <label>Employer Address</label>
                        <input type="text" data-director="${index}" data-field="employerAddress">
                    </div>
                </div>
            `;
            container.appendChild(div);
        }

        function removeDirector(index) {
            const container = document.getElementById('directorsContainer');
            container.children[index].remove();
            directors[index] = null;
        }

        // Shareholder functions
        function addShareholder() {
            const index = shareholders.length;
            shareholders.push({});
            const container = document.getElementById('shareholdersContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <div class="array-item-header">
                    <div class="array-item-title">Shareholder ${index + 1}</div>
                    ${index > 0 ? `<button type="button" class="btn btn-danger" onclick="removeShareholder(${index})">Remove</button>` : ''}
                </div>
                <div class="form-group">
                    <label>Shareholder Status</label>
                    <div class="radio-group" style="flex-direction: row; gap: 20px;">
                        <label class="radio-label">
                            <input type="radio" name="shareholderStatus_${index}" data-shareholder="${index}" data-field="status" value="existing">
                            <span>Existing Shareholder</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="shareholderStatus_${index}" data-shareholder="${index}" data-field="status" value="new">
                            <span>New Shareholder</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Number of Shares</label>
                    <input type="number" data-shareholder="${index}" data-field="numShares" min="1">
                </div>
                <div class="form-group">
                    <label>Shareholder Name</label>
                    <input type="text" data-shareholder="${index}" data-field="name">
                </div>
                <div class="form-group">
                    <label>Former Name</label>
                    <input type="text" data-shareholder="${index}" data-field="formerName">
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" data-shareholder="${index}" data-field="address">
                </div>
                <div class="form-group">
                    <label>Street</label>
                    <input type="text" data-shareholder="${index}" data-field="street">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" data-shareholder="${index}" data-field="city">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" data-shareholder="${index}" data-field="state">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" data-shareholder="${index}" data-field="postalCode">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select data-shareholder="${index}" data-field="country">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="subsection-title">Mailing Address (if different)</div>
                <div class="form-group">
                    <label>Street</label>
                    <input type="text" data-shareholder="${index}" data-field="mailingStreet">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" data-shareholder="${index}" data-field="mailingCity">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" data-shareholder="${index}" data-field="mailingState">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" data-shareholder="${index}" data-field="mailingPostalCode">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select data-shareholder="${index}" data-field="mailingCountry">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Telephone</label>
                        <input type="tel" data-shareholder="${index}" data-field="telephone">
                    </div>
                    <div class="form-group">
                        <label>Fax</label>
                        <input type="tel" data-shareholder="${index}" data-field="fax">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" data-shareholder="${index}" data-field="email">
                    </div>
                    <div class="form-group">
                        <label>Date of Birth</label>
                        <input type="date" data-shareholder="${index}" data-field="dob">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Occupation</label>
                        <input type="text" data-shareholder="${index}" data-field="occupation">
                    </div>
                    <div class="form-group">
                        <label>Nationality</label>
                        <select data-shareholder="${index}" data-field="nationality">
                            <option value="">Select Nationality</option>
                            ${nationalities.map(n => `<option value="${n}">${n}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="subsection-title">Passport Details</div>
                <div class="grid-3">
                    <div class="form-group">
                        <label>Passport Number</label>
                        <input type="text" data-shareholder="${index}" data-field="passportNumber">
                    </div>
                    <div class="form-group">
                        <label>Issuing Country</label>
                        <select data-shareholder="${index}" data-field="passportCountry">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Date of Expiry</label>
                        <input type="date" data-shareholder="${index}" data-field="passportExpiry">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Employer</label>
                        <input type="text" data-shareholder="${index}" data-field="employer">
                    </div>
                    <div class="form-group">
                        <label>Employer Address</label>
                        <input type="text" data-shareholder="${index}" data-field="employerAddress">
                    </div>
                </div>
            `;
            container.appendChild(div);
        }

        function removeShareholder(index) {
            const container = document.getElementById('shareholdersContainer');
            container.children[index].remove();
            shareholders[index] = null;
        }

        // Officer functions
        function addOfficer() {
            const index = officers.length;
            officers.push({});
            const container = document.getElementById('officersContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <div class="array-item-header">
                    <div class="array-item-title">Officer ${index + 1}</div>
                    <button type="button" class="btn btn-danger" onclick="removeOfficer(${index})">Remove</button>
                </div>
                <div class="form-group">
                    <label>Name of Officer</label>
                    <input type="text" data-officer="${index}" data-field="name">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Former Name</label>
                        <input type="text" data-officer="${index}" data-field="formerName">
                    </div>
                    <div class="form-group">
                        <label>Nationality</label>
                        <select data-officer="${index}" data-field="nationality">
                            <option value="">Select Nationality</option>
                            ${nationalities.map(n => `<option value="${n}">${n}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Date of Birth</label>
                        <input type="date" data-officer="${index}" data-field="dob">
                    </div>
                    <div class="form-group">
                        <label>Place of Birth</label>
                        <input type="text" data-officer="${index}" data-field="placeOfBirth">
                    </div>
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" data-officer="${index}" data-field="address">
                </div>
                <div class="form-group">
                    <label>Street</label>
                    <input type="text" data-officer="${index}" data-field="street">
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>City</label>
                        <input type="text" data-officer="${index}" data-field="city">
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <input type="text" data-officer="${index}" data-field="state">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Postal Code</label>
                        <input type="text" data-officer="${index}" data-field="postalCode">
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <select data-officer="${index}" data-field="country">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Country of Birth</label>
                        <select data-officer="${index}" data-field="countryOfBirth">
                            <option value="">Select Country</option>
                            ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Telephone</label>
                        <input type="tel" data-officer="${index}" data-field="telephone">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" data-officer="${index}" data-field="email">
                    </div>
                    <div class="form-group">
                        <label>Occupation</label>
                        <input type="text" data-officer="${index}" data-field="occupation">
                    </div>
                </div>
                <div class="grid-2">
                    <div class="form-group">
                        <label>Employer</label>
                        <input type="text" data-officer="${index}" data-field="employer">
                    </div>
                    <div class="form-group">
                        <label>Employer Address</label>
                        <input type="text" data-officer="${index}" data-field="employerAddress">
                    </div>
                </div>
            `;
            container.appendChild(div);
        }

        function removeOfficer(index) {
            const container = document.getElementById('officersContainer');
            container.children[index].remove();
            officers[index] = null;
        }

        // Tax Compliant Countries functions
        function addTaxCompliantCountry() {
            const index = taxCompliantCountries.length;
            taxCompliantCountries.push({});
            const container = document.getElementById('taxCompliantCountriesContainer');
            const div = document.createElement('div');
            div.style.display = 'flex';
            div.style.gap = '10px';
            div.style.marginBottom = '10px';
            div.style.alignItems = 'center';
            
            div.innerHTML = `
                <select data-taxcountry="${index}" data-field="country" style="flex: 1;">
                    <option value="">Select Country/Jurisdiction</option>
                    ${countries.map(c => `<option value="${c}">${c}</option>`).join('')}
                </select>
                ${index > 0 ? `<button type="button" class="btn btn-danger" onclick="removeTaxCompliantCountry(${index})" style="padding: 8px 16px;">Remove</button>` : ''}
            `;
            container.appendChild(div);
        }

        function removeTaxCompliantCountry(index) {
            const container = document.getElementById('taxCompliantCountriesContainer');
            container.children[index].remove();
            taxCompliantCountries[index] = null;
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            populateCountryDropdowns();
            addBeneficialOwner();
            addDirector();
            addShareholder();
            addTaxCompliantCountry();
        });

        // Form submission
        document.getElementById('transferForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Clear previous errors
            document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
            document.querySelectorAll('.error').forEach(el => el.classList.remove('error'));

            let isValid = true;

            // Validate required fields
            const requiredFields = [
                'companyName', 'businessActivities', 'companyAssets',
                'contactName', 'contactAddress', 'contactCity', 'contactCountry',
                'contactTelephone', 'contactEmail',
                'sourceFunds', 'wealthDescription',
                'declarantName', 'declarantCapacity', 'declarationDate'
            ];

            requiredFields.forEach(field => {
                const el = document.getElementById(field);
                if (!el || !el.value.trim()) {
                    isValid = false;
                    const errorEl = document.getElementById(`error-${field}`);
                    if (errorEl) errorEl.textContent = 'This field is required';
                    if (el) el.classList.add('error');
                }
            });

            // Validate signature
            if (!signatureDataURL) {
                isValid = false;
                document.getElementById('error-signature').textContent = 'Please provide your digital signature';
            }

            // Validate signature agreement
            if (!document.getElementById('signatureAgreement').checked) {
                isValid = false;
                document.getElementById('error-agreement').textContent = 'You must agree to the electronic signature terms';
            }

            // Validate documents confirmation
            if (!document.getElementById('confirm_documents_attached').checked) {
                isValid = false;
                document.getElementById('error-confirm_documents').textContent = 'You must confirm that you will attach all required documents';
            }

            if (!isValid) {
                alert('Please fill in all required fields marked with * and provide your digital signature');
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }

            // Generate PDF
            generatePDF();
        });

        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const pageWidth = doc.internal.pageSize.width;
            const pageHeight = doc.internal.pageSize.height;
            const margin = 20;
            const lineHeight = 6;
            let yPosition = margin;

            function addText(text, x, y, maxWidth) {
                const lines = doc.splitTextToSize(text, maxWidth);
                lines.forEach((line, index) => {
                    if (y + (index * lineHeight) > pageHeight - margin) {
                        doc.addPage();
                        y = margin;
                    }
                    doc.text(line, x, y + (index * lineHeight));
                });
                return y + (lines.length * lineHeight);
            }

            // Header
            doc.setFontSize(16);
            doc.setFont(undefined, 'bold');
            yPosition = addText('COMPANY TRANSFER IN FORM', margin, yPosition, pageWidth - 2 * margin);
            yPosition += 3;
            doc.setFontSize(10);
            doc.setFont(undefined, 'normal');
            yPosition = addText('Bethel Worldwide Corporation', margin, yPosition, pageWidth - 2 * margin);
            yPosition = addText('Bethel House, P.O. Box 4749, Road Town, Tortola, BVI', margin, yPosition, pageWidth - 2 * margin);
            yPosition += 10;

            // Company Name
            const companyName = document.getElementById('companyName').value;
            doc.setFont(undefined, 'bold');
            yPosition = addText(`Company: ${companyName}`, margin, yPosition, pageWidth - 2 * margin);
            yPosition += 5;

            // Business Activities
            doc.setFont(undefined, 'bold');
            yPosition = addText('BUSINESS ACTIVITIES', margin, yPosition, pageWidth - 2 * margin);
            doc.setFont(undefined, 'normal');
            yPosition = addText(document.getElementById('businessActivities').value, margin, yPosition, pageWidth - 2 * margin);
            yPosition += 5;

            // Add signature
            if (signatureDataURL) {
                if (yPosition + 30 > pageHeight - margin) {
                    doc.addPage();
                    yPosition = margin;
                }
                doc.setFont(undefined, 'bold');
                yPosition = addText('DECLARATION', margin, yPosition, pageWidth - 2 * margin);
                yPosition += 3;
                doc.setFont(undefined, 'normal');
                yPosition = addText(`Name: ${document.getElementById('declarantName').value}`, margin, yPosition, pageWidth - 2 * margin);
                yPosition = addText(`Capacity: ${document.getElementById('declarantCapacity').value}`, margin, yPosition, pageWidth - 2 * margin);
                yPosition += 5;
                doc.addImage(signatureDataURL, 'PNG', margin, yPosition, 60, 20);
                yPosition += 22;
                yPosition = addText(`Date: ${document.getElementById('declarationDate').value}`, margin, yPosition, pageWidth - 2 * margin);
                yPosition += 3;
                yPosition = addText('(Digitally Signed)', margin, yPosition, pageWidth - 2 * margin);
            }

            // Save PDF
            const fileName = `Company_Transfer_In_${companyName.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.pdf`;
            doc.save(fileName);
        }
    </script>
</body>
</html>
